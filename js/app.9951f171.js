(function(e){function t(t){for(var i,o,a=t[0],r=t[1],c=t[2],d=0,b=[];d<a.length;d++)o=a[d],Object.prototype.hasOwnProperty.call(s,o)&&s[o]&&b.push(s[o][0]),s[o]=0;for(i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i]);u&&u(t);while(b.length)b.shift()();return l.push.apply(l,c||[]),n()}function n(){for(var e,t=0;t<l.length;t++){for(var n=l[t],i=!0,a=1;a<n.length;a++){var r=n[a];0!==s[r]&&(i=!1)}i&&(l.splice(t--,1),e=o(o.s=n[0]))}return e}var i={},s={app:0},l=[];function o(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=i,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)o.d(n,i,function(t){return e[t]}.bind(null,i));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/sitzplatzplaner/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],r=a.push.bind(a);a.push=t,a=a.slice();for(var c=0;c<a.length;c++)t(a[c]);var u=r;l.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},"0189":function(e,t,n){e.exports=n.p+"img/preset2.b5b62594.png"},"18e6":function(e,t,n){"use strict";n("a599")},4186:function(e,t,n){e.exports=n.p+"img/preset0.1859f07a.png"},"8ae3":function(e,t,n){var i={"./preset0.png":"4186","./preset1.png":"9ecb","./preset2.png":"0189","./preset3.png":"d6ab"};function s(e){var t=l(e);return n(t)}function l(e){if(!n.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}s.keys=function(){return Object.keys(i)},s.resolve=l,e.exports=s,s.id="8ae3"},"9ecb":function(e,t,n){e.exports=n.p+"img/preset1.52d76fe1.png"},a599:function(e,t,n){},c8b1:function(e,t,n){},cd49:function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var i=n("7a23");function s(e,t,n,s,l,o){var a=Object(i["s"])("Planer");return Object(i["n"])(),Object(i["d"])(a)}n("b0c0"),n("d3b7"),n("25f0");var l=function(e){return Object(i["p"])("data-v-0b8c8c73"),e=e(),Object(i["o"])(),e},o={key:0,class:"presetDiv"},a={class:"presetContent"},r=["onClick"],c=["src"],u={class:"sideDiv"},d={class:"sliderDiv"},b={class:"sliderInformationDiv"},f={style:{"line-height":"25px","padding-top":"31px"}},h=l((function(){return Object(i["g"])("br",null,null,-1)})),g={class:"verticalSliderDiv"},O=["max"],p=["max"],j={class:"studentFieldWrap"},v=Object(i["i"])(" Namen der Schüler   "),m={key:0,class:"arrowdown"},y={key:1,class:"arrowup"},k={key:0,class:"studentFieldDiv"},R=l((function(){return Object(i["g"])("button",{class:"fileInputThingy"},[Object(i["g"])("label",{for:"fileInputThingy",style:{width:"100%",height:"100%",display:"block",cursor:"pointer"}},[Object(i["g"])("span",{style:{"line-height":"31px"}}," Datei auswählen ")])],-1)})),S={class:"ruleWrap"},w=Object(i["i"])(" Sitzregeln   "),x={key:0,class:"arrowdown"},V={key:1,class:"arrowup"},z={key:0,class:"ruleDiv"},C=Object(i["i"])(" Dürfen "),F=l((function(){return Object(i["g"])("strong",null,"nicht",-1)})),M=Object(i["i"])(" nebeneinander   "),B={key:0,class:"arrowdown"},D={key:1,class:"arrowup"},N={key:0,class:"ruleTypeDiv"},T=["onClick"],E=["onUpdate:modelValue"],I=l((function(){return Object(i["g"])("p",{style:{margin:"0","margin-right":"3%","margin-left":"3%",display:"inline-block",color:"darkred"}},"-",-1)})),P=["onUpdate:modelValue"],W=Object(i["i"])(" Sollen nebeneinander   "),_={key:0,class:"arrowdown"},A={key:1,class:"arrowup"},U={key:0,class:"ruleTypeDiv"},H=["onClick"],G=["onUpdate:modelValue"],L=l((function(){return Object(i["g"])("p",{style:{margin:"0","margin-right":"3%","margin-left":"3%",display:"inline-block",color:"darkgreen"}},"-",-1)})),J=["onUpdate:modelValue"],X=Object(i["i"])(" Nach vorne   "),K={key:0,class:"arrowdown"},Z={key:1,class:"arrowup"},$={key:0,class:"ruleTypeDiv"},q={class:"firstRowRulesWrap"},Q=["onClick"],Y=l((function(){return Object(i["g"])("option",{value:"0",selected:"",hidden:""},"Schüler auswählen",-1)})),ee=l((function(){return Object(i["g"])("strong",null," Nicht ",-1)})),te=Object(i["i"])(" nach hinten   "),ne={key:0,class:"arrowdown"},ie={key:1,class:"arrowup"},se={key:0,class:"ruleTypeDiv"},le={class:"firstRowRulesWrap"},oe=["onClick"],ae=l((function(){return Object(i["g"])("option",{value:"0",selected:"",hidden:""},"Schüler auswählen",-1)})),re={class:"algorithmFieldWrap"},ce=Object(i["i"])(" Algorithmusregeln   "),ue={key:0,class:"arrowdown"},de={key:1,class:"arrowup"},be={key:0,class:"algorithmSettingsDiv"},fe=Object(i["i"])(" Stufe der Zufälligkeit:"),he=l((function(){return Object(i["g"])("br",null,null,-1)})),ge=Object(i["h"])('<span class="credits creditsWrap" data-v-0b8c8c73>\nEntwickelt von: \n <a class="credits creditsA" href="https://github.com/Florik3ks" target="_blank" data-v-0b8c8c73>Florian E.</a> &amp; <a class="credits creditsA" href="https://github.com/1td" target="_blank" data-v-0b8c8c73> Joshua J.</a> \nmit Hilfe von <a class="credits creditsA" href="https://github.com/PlisJan" target="_blank" data-v-0b8c8c73>Jan P.</a> \n \n<a class="credits creditsA" href="https://www.gymnasium-oberstadt.de/" target="_blank" data-v-0b8c8c73>GMO</a> 13 Informatik-LK (2022)\nunter der Leitung von Herrn Meß </span>',1),Oe=l((function(){return Object(i["g"])("div",{class:"tafelDivOuter"},[Object(i["g"])("div",{class:"tafelDivInner"},"TAFEL")],-1)})),pe={class:"sitzplatzdiv"},je=l((function(){return Object(i["g"])("option",{value:"0",selected:"",hidden:""},"Schüler auswählen",-1)})),ve=l((function(){return Object(i["g"])("option",null,null,-1)})),me=["onMousedown","onMouseenter","onContextmenu","onTouchstart","onTouchend","textContent"];function ye(e,t,s,l,ye,ke){return Object(i["n"])(),Object(i["f"])(i["a"],null,[e.presetPageOpen?(Object(i["n"])(),Object(i["f"])("div",o,[Object(i["g"])("div",a,[Object(i["g"])("button",{class:"closePresetContent",onClick:t[0]||(t[0]=function(t){return e.presetPageOpen=!1})},"X"),(Object(i["n"])(!0),Object(i["f"])(i["a"],null,Object(i["r"])(parseInt(e.presetCount),(function(t,s){return Object(i["n"])(),Object(i["f"])("button",{key:s,class:"presetBtn",onClick:function(t){return e.setPreset(s)}},[Object(i["g"])("img",{src:n("8ae3")("./preset".concat(s,".png")),class:"presetImg"},null,8,c)],8,r)})),128))])])):Object(i["e"])("",!0),Object(i["g"])("div",{onMousedown:t[25]||(t[25]=Object(i["z"])((function(t){return e.isMouseDown=!0}),["left"])),onMouseup:t[26]||(t[26]=Object(i["z"])((function(t){return e.isMouseDown=!1}),["left"])),id:"wrapperDiv"},[Object(i["g"])("div",u,[Object(i["g"])("div",d,[Object(i["g"])("div",b,[Object(i["g"])("span",f,[Object(i["i"])(Object(i["t"])(e.gridWidth)+" * "+Object(i["t"])(e.gridHeight),1),h,Object(i["i"])(Object(i["t"])(e.getNumberOfFields())+" Sitzplätze",1)])]),Object(i["g"])("div",g,[Object(i["y"])(Object(i["g"])("input",{type:"range",name:"gridHeight","onUpdate:modelValue":t[1]||(t[1]=function(t){return e.gridHeight=t}),min:"5",max:e.maxGridHeight,class:"inpSlider verticalSlider"},null,8,O),[[i["v"],e.gridHeight]])]),Object(i["y"])(Object(i["g"])("input",{type:"range",name:"gridWidth","onUpdate:modelValue":t[2]||(t[2]=function(t){return e.gridWidth=t}),min:"5",max:e.maxGridWidth,class:"inpSlider horizontalSlider"},null,8,p),[[i["v"],e.gridWidth]])]),Object(i["g"])("div",null,[Object(i["g"])("button",{onClick:t[3]||(t[3]=function(t){return e.presetPageOpen=!0}),class:"openPresetBtn"},"Raumvorlagen öffnen")]),Object(i["g"])("div",j,[Object(i["g"])("button",{class:"btn",onClick:t[4]||(t[4]=function(t){return e.studentFieldVisible=e.closeEverythingExcept(e.studentFieldVisible)})},[v,e.studentFieldVisible?Object(i["e"])("",!0):(Object(i["n"])(),Object(i["f"])("i",m)),e.studentFieldVisible?(Object(i["n"])(),Object(i["f"])("i",y)):Object(i["e"])("",!0)]),Object(i["j"])(i["b"],{name:"openTransition"},{default:Object(i["x"])((function(){return[e.studentFieldVisible?(Object(i["n"])(),Object(i["f"])("div",k,[e.studentFieldVisible?Object(i["y"])((Object(i["n"])(),Object(i["f"])("textarea",{key:0,class:"studentField","onUpdate:modelValue":t[5]||(t[5]=function(t){return e.studentFieldValue=t}),placeholder:"Name 1",onBlur:t[6]||(t[6]=function(){return e.checkForDoubleNames&&e.checkForDoubleNames.apply(e,arguments)})}," ",544)),[[i["v"],e.studentFieldValue]]):Object(i["e"])("",!0),Object(i["g"])("input",{type:"file",accept:"text/csv,application/csv",id:"fileInputThingy",onChange:t[7]||(t[7]=function(t){return e.loadStudentFile(t)})},null,32),R])):Object(i["e"])("",!0)]})),_:1})]),Object(i["g"])("div",S,[Object(i["g"])("button",{class:"btn",onClick:t[8]||(t[8]=function(t){return e.ruleVisible=e.closeEverythingExcept(e.ruleVisible)})},[w,e.ruleVisible?Object(i["e"])("",!0):(Object(i["n"])(),Object(i["f"])("i",x)),e.ruleVisible?(Object(i["n"])(),Object(i["f"])("i",V)):Object(i["e"])("",!0)]),Object(i["j"])(i["b"],{name:"openTransition"},{default:Object(i["x"])((function(){return[e.ruleVisible?(Object(i["n"])(),Object(i["f"])("div",z,[Object(i["g"])("button",{class:"btn subBtn",onClick:t[9]||(t[9]=function(t){return e.avoidRulesVisible=!e.avoidRulesVisible})},[C,F,M,e.avoidRulesVisible?Object(i["e"])("",!0):(Object(i["n"])(),Object(i["f"])("i",B)),e.avoidRulesVisible?(Object(i["n"])(),Object(i["f"])("i",D)):Object(i["e"])("",!0)]),Object(i["j"])(i["b"],{name:"openTransition"},{default:Object(i["x"])((function(){return[e.avoidRulesVisible?(Object(i["n"])(),Object(i["f"])("div",N,[(Object(i["n"])(!0),Object(i["f"])(i["a"],null,Object(i["r"])(e.avoidRules.length,(function(t,n){return Object(i["n"])(),Object(i["f"])("div",{class:"singleRuleDiv",key:n},[Object(i["g"])("button",{class:"deleteRule",onClick:function(t){return e.deleteRuleAt(parseInt(n),e.avoidRules)}},"X",8,T),Object(i["y"])(Object(i["g"])("select",{"onUpdate:modelValue":function(t){return e.avoidRules[parseInt(n)].student1=t},class:"ruleSelect"},[(Object(i["n"])(!0),Object(i["f"])(i["a"],null,Object(i["r"])(e.getNames(),(function(e){return Object(i["n"])(),Object(i["f"])("option",{key:e},Object(i["t"])(e),1)})),128))],8,E),[[i["u"],e.avoidRules[parseInt(n)].student1]]),I,Object(i["y"])(Object(i["g"])("select",{"onUpdate:modelValue":function(t){return e.avoidRules[parseInt(n)].student2=t},class:"ruleSelect"},[(Object(i["n"])(!0),Object(i["f"])(i["a"],null,Object(i["r"])(e.getNames(),(function(e){return Object(i["n"])(),Object(i["f"])("option",{key:e},Object(i["t"])(e),1)})),128))],8,P),[[i["u"],e.avoidRules[parseInt(n)].student2]])])})),128)),Object(i["g"])("button",{class:"btn ruleBtn",onClick:t[10]||(t[10]=function(t){return e.addRule(e.avoidRules)})},"Neue Regel")])):Object(i["e"])("",!0)]})),_:1}),Object(i["g"])("button",{class:"btn subBtn",onClick:t[11]||(t[11]=function(t){return e.nearbyRulesVisible=!e.nearbyRulesVisible})},[W,e.nearbyRulesVisible?Object(i["e"])("",!0):(Object(i["n"])(),Object(i["f"])("i",_)),e.nearbyRulesVisible?(Object(i["n"])(),Object(i["f"])("i",A)):Object(i["e"])("",!0)]),Object(i["j"])(i["b"],{name:"openTransition"},{default:Object(i["x"])((function(){return[e.nearbyRulesVisible?(Object(i["n"])(),Object(i["f"])("div",U,[(Object(i["n"])(!0),Object(i["f"])(i["a"],null,Object(i["r"])(e.nearbyRules.length,(function(t,n){return Object(i["n"])(),Object(i["f"])("div",{class:"singleRuleDiv",key:n},[Object(i["g"])("button",{class:"deleteRule",onClick:function(t){return e.deleteRuleAt(parseInt(n),e.nearbyRules)}},"X",8,H),Object(i["y"])(Object(i["g"])("select",{"onUpdate:modelValue":function(t){return e.nearbyRules[parseInt(n)].student1=t},class:"ruleSelect"},[(Object(i["n"])(!0),Object(i["f"])(i["a"],null,Object(i["r"])(e.getNames(),(function(e){return Object(i["n"])(),Object(i["f"])("option",{key:e},Object(i["t"])(e),1)})),128))],8,G),[[i["u"],e.nearbyRules[parseInt(n)].student1]]),L,Object(i["y"])(Object(i["g"])("select",{"onUpdate:modelValue":function(t){return e.nearbyRules[parseInt(n)].student2=t},class:"ruleSelect"},[(Object(i["n"])(!0),Object(i["f"])(i["a"],null,Object(i["r"])(e.getNames(),(function(e){return Object(i["n"])(),Object(i["f"])("option",{key:e},Object(i["t"])(e),1)})),128))],8,J),[[i["u"],e.nearbyRules[parseInt(n)].student2]])])})),128)),Object(i["g"])("button",{class:"btn ruleBtn",onClick:t[12]||(t[12]=function(t){return e.addRule(e.nearbyRules)})},"Neue Regel")])):Object(i["e"])("",!0)]})),_:1}),Object(i["g"])("button",{class:"btn subBtn",onClick:t[13]||(t[13]=function(t){return e.firstRowRulesVisible=!e.firstRowRulesVisible})},[X,e.firstRowRulesVisible?Object(i["e"])("",!0):(Object(i["n"])(),Object(i["f"])("i",K)),e.firstRowRulesVisible?(Object(i["n"])(),Object(i["f"])("i",Z)):Object(i["e"])("",!0)]),Object(i["j"])(i["b"],{name:"openTransition"},{default:Object(i["x"])((function(){return[e.firstRowRulesVisible?(Object(i["n"])(),Object(i["f"])("div",$,[Object(i["g"])("div",q,[(Object(i["n"])(!0),Object(i["f"])(i["a"],null,Object(i["r"])(e.firstRowRules.length,(function(t,n){return Object(i["n"])(),Object(i["f"])("div",{class:"singleRuleDiv firstRowRule",key:n},[Object(i["g"])("button",{class:"deleteRule",onClick:function(t){return e.deleteRuleAt(parseInt(n),e.firstRowRules)}},"X",8,Q),Object(i["i"])(" "+Object(i["t"])(e.firstRowRules[n]),1)])})),128))]),Object(i["g"])("select",{class:"ruleSelect",style:{width:"100%",height:"100%","margin-bottom":"2%","padding-bottom":"2%","text-align":"center"},onChange:t[14]||(t[14]=function(t){e.addFirstRow(t.target.value),t.target.value=0})},[Y,(Object(i["n"])(!0),Object(i["f"])(i["a"],null,Object(i["r"])(e.getNames(),(function(e){return Object(i["n"])(),Object(i["f"])("option",{key:e},Object(i["t"])(e),1)})),128))],32)])):Object(i["e"])("",!0)]})),_:1}),Object(i["g"])("button",{class:"btn subBtn",onClick:t[15]||(t[15]=function(t){return e.notBackRulesVisible=!e.notBackRulesVisible})},[ee,te,e.notBackRulesVisible?Object(i["e"])("",!0):(Object(i["n"])(),Object(i["f"])("i",ne)),e.notBackRulesVisible?(Object(i["n"])(),Object(i["f"])("i",ie)):Object(i["e"])("",!0)]),Object(i["j"])(i["b"],{name:"openTransition"},{default:Object(i["x"])((function(){return[e.notBackRulesVisible?(Object(i["n"])(),Object(i["f"])("div",se,[Object(i["g"])("div",le,[(Object(i["n"])(!0),Object(i["f"])(i["a"],null,Object(i["r"])(e.notBackRules.length,(function(t,n){return Object(i["n"])(),Object(i["f"])("div",{class:"singleRuleDiv firstRowRule",key:n},[Object(i["g"])("button",{class:"deleteRule",onClick:function(t){return e.deleteRuleAt(parseInt(n),e.notBackRules)}},"X",8,oe),Object(i["i"])(" "+Object(i["t"])(e.notBackRules[n]),1)])})),128))]),Object(i["g"])("select",{class:"ruleSelect",style:{width:"100%",height:"100%","margin-bottom":"2%","padding-bottom":"2%","text-align":"center"},onChange:t[16]||(t[16]=function(t){e.addNotBackRow(t.target.value),t.target.value=0})},[ae,(Object(i["n"])(!0),Object(i["f"])(i["a"],null,Object(i["r"])(e.getNames(),(function(e){return Object(i["n"])(),Object(i["f"])("option",{key:e},Object(i["t"])(e),1)})),128))],32)])):Object(i["e"])("",!0)]})),_:1})])):Object(i["e"])("",!0)]})),_:1})]),Object(i["g"])("div",re,[Object(i["g"])("button",{class:"btn",onClick:t[17]||(t[17]=function(t){return e.algorithmSettingsVisible=e.closeEverythingExcept(e.algorithmSettingsVisible)})},[ce,e.algorithmSettingsVisible?Object(i["e"])("",!0):(Object(i["n"])(),Object(i["f"])("i",ue)),e.algorithmSettingsVisible?(Object(i["n"])(),Object(i["f"])("i",de)):Object(i["e"])("",!0)]),Object(i["j"])(i["b"],{name:"openTransition"},{default:Object(i["x"])((function(){return[e.algorithmSettingsVisible?(Object(i["n"])(),Object(i["f"])("div",be,[fe,he,Object(i["y"])(Object(i["g"])("input",{type:"range",min:"0",max:"2","onUpdate:modelValue":t[18]||(t[18]=function(t){return e.algorithmRandomness=t})},null,512),[[i["v"],e.algorithmRandomness]]),Object(i["i"])(" "+Object(i["t"])(e.algorithmRandomness),1)])):Object(i["e"])("",!0)]})),_:1})]),Object(i["g"])("button",{name:"compute",onClick:t[19]||(t[19]=function(){return e.computePlan&&e.computePlan.apply(e,arguments)}),class:"btn submit"},"Plan erstellen"),Object(i["g"])("button",{name:"compute",onClick:t[20]||(t[20]=function(t){return e.resetNamesOnPlan()}),class:"btn submit"},"Namen zurücksetzen"),ge]),Oe,Object(i["g"])("div",pe,[e.fieldBtnContextMenuOpen?(Object(i["n"])(),Object(i["f"])("div",{key:0,class:"fieldBtnContextMenuDiv",onBlur:t[23]||(t[23]=function(t){return e.fieldBtnContextMenuOpen=!1}),style:Object(i["m"])({top:e.contextMenuTop,left:e.contextMenuLeft})},[Object(i["g"])("select",{id:"fieldSelectionID",class:"fieldBtnContextSelect",onChange:t[21]||(t[21]=function(t){e.manuallySelectStudent(t.target.value),e.fieldBtnContextMenuOpen=!1}),onBlur:t[22]||(t[22]=function(t){return e.fieldBtnContextMenuOpen=!1})},[je,ve,(Object(i["n"])(!0),Object(i["f"])(i["a"],null,Object(i["r"])(e.getNames(),(function(e){return Object(i["n"])(),Object(i["f"])("option",{key:e},Object(i["t"])(e),1)})),128))],32)],36)):Object(i["e"])("",!0),Object(i["g"])("table",null,[(Object(i["n"])(!0),Object(i["f"])(i["a"],null,Object(i["r"])(parseInt(e.gridHeight),(function(n,s){return Object(i["n"])(),Object(i["f"])("tr",{key:s},[(Object(i["n"])(!0),Object(i["f"])(i["a"],null,Object(i["r"])(parseInt(e.gridWidth),(function(n,l){return Object(i["n"])(),Object(i["f"])("td",{key:l,class:"t1",onContextmenu:t[24]||(t[24]=Object(i["z"])((function(){}),["prevent"])),style:Object(i["m"])({height:85/parseInt(e.gridHeight)+"vh",border:e.isMarked(l,s)?"black 1px solid":"lightgrey 1px solid"})},[(Object(i["n"])(),Object(i["f"])("button",{key:e.sitzplaetze,class:"fieldBtn",onMousedown:Object(i["z"])((function(t){return e.onFieldClick(l,s)}),["left"]),onMouseenter:function(t){return e.onFieldClickWhenMouseIsDown(l,s)},onContextmenu:Object(i["z"])((function(t){return e.onFieldContextMenu(t,l,s)}),["prevent"]),onTouchstart:function(t){return e.touchstart(l,s)},onTouchend:function(t){return e.touchend(t,l,s)},style:Object(i["m"])({"font-size":"medium","background-color":e.isMarked(l,s)?e.isManuallySelected(l,s)?"skyblue":"lightblue":"white",border:e.isMarked(l,s)?"black 2px solid":"none"}),textContent:Object(i["t"])(e.sitzplaetze[l.toString()+","+s.toString()].name)},null,44,me))],36)})),128))])})),128))])])],32)],64)}var ke=n("b85c"),Re=(n("159b"),n("caad"),n("2532"),n("a434"),n("498a"),n("4de4"),n("ac1f"),n("1276"),n("5319"),n("b64b"),n("a9e3"),n("a15b"),n("bee2")),Se=n("d4ec"),we=Object(Re["a"])((function e(t,n,i){Object(Se["a"])(this,e),this.manuallySelected=!1,this.neighbours=-1,this.frontRow=!1,this.backrow=!1,this.x=t,this.y=n,this.marked=i,this.name=""})),xe=Object(Re["a"])((function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";Object(Se["a"])(this,e),this.student1=t,this.student2=n})),Ve=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];Object(Se["a"])(this,e),this.frontRow=!1,this.notBackOfTheRoom=!1,this.affability=0,this.seated=!1,this.name=t,this.avoid=n,this.sitWith=i,this.dummySeat=new we(-1,-1,!1),this.seat=this.dummySeat}return Object(Re["a"])(e,[{key:"validate",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.notBackOfTheRoom&&this.seat.backrow)return!1;for(var t=0;t<this.avoid.length;t++){var n=this.avoid[t];if(ze(this.seat.x,this.seat.y,n.seat.x,n.seat.y))return!1}for(var i=0;i<this.sitWith.length;i++){var s=this.sitWith[i];if((s.seated||e)&&!ze(this.seat.x,this.seat.y,s.seat.x,s.seat.y))return!1}return!0}},{key:"calculateAffability",value:function(){this.affability=.5*this.sitWith.length-this.avoid.length}},{key:"setSeat",value:function(e){this.seated&&this.seat!=e&&console.log(this.name+" hat versucht, sich auf einen Stuhl zu setzen ("+e.x+"|"+e.y+"), ohne vorher von seinem ursprünglichen ("+this.seat.x+"|"+this.seat.y+") aufzustehen. Er wird zum Aufstehen gebracht."),this.unSeat(),""==e.name||e.name==this.name?(this.seat=e,e.name=this.name,this.seated=!0):console.log(this.name+" hat versucht sich auf einen bereits von "+e.name+" belegten Stuhl an der Position ("+e.x+"|"+e.y+") zu setzen. Er wurde davon abgehalten, und bleibt ohne Sitzplatz.")}},{key:"unSeat",value:function(){this.seat.name="",this.seat=this.dummySeat,this.seated=!1}},{key:"getSeat",value:function(){return this.seat}}]),e}();function ze(e,t,n,i){return Math.abs(e-n)<=1&&Math.abs(t-i)<=1}n("99af"),n("4e82");function Ce(e,t){if(e.length<t.length)alert("Es gibt weniger Plätze als Schüler");else{console.log(t),console.log(t[0].seated),t.forEach((function(e){e.unSeat()}));var n=[];e.forEach((function(e){""!=e.name&&n.push(e)})),Ne(e,!0,0);var i=[],s=[];e.forEach((function(e){n.includes(e)||(e.frontRow?i.push(e):s.push(e))})),n.length>0&&t.forEach((function(e){for(var t=0;t<n.length;t++){var i=n[t];e.name==i.name&&(e.setSeat(i),i!=n.splice(t,1)[0]&&alert("Irgendetwas ist beim Setzen der Schüler an ihre voreingestellten Sitzplaetze schiefgegeangen."))}})),De(t);var l=[],o=[];t.forEach((function(e){e.seated||(e.frontRow?l.push(e):o.push(e))})),Fe(l,i,o,s)||alert("Keine Anordnung gefunden"),console.log(Be(t,!0))}}function Fe(e,t,n,i){if(console.log("unsolved.length = "+e.length+", seats.length = "+t.length),console.log("längen der nächsten: ",n.length,t.concat(i).length),0==e.length&&Me(n,t.concat(i)))return console.log("no unsolved Students"),!0;for(var s=0;s<t.length;s++){var l=t[s],o=e.shift();if(console.log("seats.length    = "+t.length+". Trying to match Student "+(null===o||void 0===o?void 0:o.name)+" to seat at ("+l.x+"|"+l.y+")"),void 0==o)return console.log("no unsolved Students, but this was detected in a way that should never happen"),!0;if(o.setSeat(l),o.validate(!1)){var a=t.splice(s,1);if(Fe(e,t,n,i))return console.log("found seat for "+o.name+": ("+a[0].x+"|"+a[0].y+")"),!0;t.splice(s,0,a[0])}o.unSeat(),e.unshift(o)}return console.log("could not find combination for given combination of "+e.length+" students."),!1}function Me(e,t){if(console.log("unsolved.length = "+e.length+", seats.length = "+t.length),0==e.length)return console.log("no unsolved Students"),!0;for(var n=0;n<t.length;n++){var i=t[n],s=e.shift();if(console.log("seats.length    = "+t.length+". Trying to match Student "+(null===s||void 0===s?void 0:s.name)+" to seat at ("+i.x+"|"+i.y+")"),void 0==s)return console.log("no unsolved Students, but this was detected in a way that should never happen"),!0;if(s.setSeat(i),s.validate(!1)){var l=t.splice(n,1);if(Me(e,t))return console.log("found seat for "+s.name+": ("+l[0].x+"|"+l[0].y+")"),!0;t.splice(n,0,l[0])}s.unSeat(),e.unshift(s)}return console.log("could not find combination for given combination of "+e.length+" students."),!1}function Be(e){for(var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=0;n<e.length;n++){var i=e[n];if(!i.validate(t))return!1}return!0}function De(e){e.forEach((function(e){e.calculateAffability()})),e.sort((function(e,t){return e.affability-t.affability}))}function Ne(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=0,l=1e5,o=0;if(e.forEach((function(e){e.x>s&&(s=e.x),e.y>o&&(o=e.y),e.y<l&&(l=e.y)})),n<2||i){for(var a=[],r=0;r<=s;r++){for(var c=[],u=0;u<=o;u++)c.push(-1);a.push(c)}e.forEach((function(e){for(var t=Math.max(e.x-1,0);t<=Math.min(e.x+1,s);t++)for(var n=Math.max(e.y-1,0);n<=Math.min(e.y+1,o);n++)a[t][n]++})),e.forEach((function(e){e.neighbours=a[e.x][e.y]})),n<2&&e.sort((function(e,t){return e.neighbours-t.neighbours}))}else Te(e);console.log(e),t&&e.forEach((function(e){e.y==l&&(e.frontRow=!0),e.y==o&&(e.backrow=!0)}))}function Te(e){for(var t=e.length-1;t>0;t--){var n=Math.floor(Math.random()*(t+1)),i=[e[n],e[t]];e[t]=i[0],e[n]=i[1]}}var Ee=Object(i["k"])({name:"Sitzplatzplaner",props:{},data:function(){var e=15,t=15;return{maxGridWidth:e,maxGridHeight:t,gridWidth:5,gridHeight:5,sideWidth:25,algorithmRandomness:1,studentFieldVisible:!0,ruleVisible:!1,algorithmSettingsVisible:!1,avoidRulesVisible:!0,nearbyRulesVisible:!0,firstRowRulesVisible:!0,notBackRulesVisible:!0,studentFieldValue:"",nearbyRules:[],avoidRules:[],firstRowRules:[],notBackRules:[],isMouseDown:!1,presetCount:3,presetPageOpen:!1,fieldBtnContextMenuOpen:!1,contextMenuTop:"0px",contextMenuLeft:"0px",contextMenuOpenedBy:"",lastTouch:0,sitzplaetze:this.instantiateDict(e,t)}},watch:{avoidRules:{handler:function(){for(var e=0;e<this.avoidRules.length;e++)this.avoidRules[e].student1==this.avoidRules[e].student2&&""!=this.avoidRules[e].student1&&(this.avoidRules[e].student2="")},deep:!0},nearbyRules:{handler:function(){for(var e=0;e<this.nearbyRules.length;e++)this.nearbyRules[e].student1==this.nearbyRules[e].student2&&""!=this.nearbyRules[e].student1&&(this.nearbyRules[e].student2="")},deep:!0},studentFieldValue:function(){var e=this.getNames();for(var t in[this.firstRowRules,this.notBackRules].forEach((function(t){for(var n=t.length-1;n>=0;n--)e.includes(t[n])||t.splice(n,1)})),[this.avoidRules,this.nearbyRules].forEach((function(t){for(var n=t.length-1;n>=0;n--)e.includes(t[n].student1)&&e.includes(t[n].student2)||t.splice(n,1)})),this.sitzplaetze){var n=this.sitzplaetze[t];e.includes(n.name)||(n.name="")}}},methods:{onFieldClick:function(e,t){var n=this.sitzplaetze[e.toString()+","+t.toString()];n.marked=!n.marked,n.marked||""==n.name||(n.name="",n.manuallySelected=!1)},onFieldClickWhenMouseIsDown:function(e,t){this.isMouseDown&&this.onFieldClick(e,t)},preventctxmenudefault:function(e){e.preventDefault()},touchstart:function(e,t){console.log("a"),this.lastTouch=Date.now()},touchend:function(e,t,n){Date.now()-this.lastTouch>200&&(console.log("yay"),this.onFieldContextMenu(e,t,n)),this.lastTouch=Date.now()},onFieldContextMenu:function(e,t,n){var i=e.x,s=e.y,l=screen.availHeight-105,o=screen.availWidth-255;e.y>l&&(s=l),e.x>o&&(i=o),this.contextMenuTop=s+"px",this.contextMenuLeft=i+"px",this.contextMenuOpenedBy=t.toString()+","+n.toString(),this.fieldBtnContextMenuOpen=!0,this.$nextTick((function(){var e;null===(e=document.getElementById("fieldSelectionID"))||void 0===e||e.focus()}))},manuallySelectStudent:function(e){if(""!=e.trim()){for(var t in console.log(e),this.sitzplaetze){var n=this.sitzplaetze[t];n.name==e&&(n.name="",n.manuallySelected=!1)}this.sitzplaetze[this.contextMenuOpenedBy].name=e,this.sitzplaetze[this.contextMenuOpenedBy].marked=!0,this.sitzplaetze[this.contextMenuOpenedBy].manuallySelected=!0}},setPreset:function(e){switch(this.presetPageOpen=!1,this.sitzplaetze=this.instantiateDict(this.maxGridWidth,this.maxGridHeight),e){case 0:this.gridWidth=9,this.gridHeight=7;for(var t=0;t<7;t+=2)for(var n=0;n<9;n++)4!=n&&this.onFieldClick(n,t);break;case 1:this.gridWidth=7,this.gridHeight=7;for(var i=0;i<7;i+=2)for(var s=0;s<7;s++)3!=s&&this.onFieldClick(s,i);for(var l=1;l<6;l+=2)this.onFieldClick(0,l),this.onFieldClick(6,l);break;case 2:this.gridWidth=5,this.gridHeight=5;break;default:break}},addRule:function(e){e.push(new xe)},deleteRuleAt:function(e,t){t.splice(e,1)},deleteUncompleteRules:function(){[this.avoidRules,this.nearbyRules].forEach((function(e){for(var t=e.length-1;t>=0;t--)""!=e[t].student1&&""!=e[t].student2||e.splice(t,1)}))},closeEverythingExcept:function(e){return this.ruleVisible=!1,this.studentFieldVisible=!1,this.algorithmSettingsVisible=!1,!e},addFirstRow:function(e){this.firstRowRules.includes(e)||this.firstRowRules.push(e)},addNotBackRow:function(e){this.notBackRules.includes(e)||this.notBackRules.push(e)},computePlan:function(){console.log("cmpPLan"),this.deleteUncompleteRules(),this.resetNamesOnPlan(!0),Ce(this.getUsedFieldsToComputePlan(),this.createStudentsFromRules(),this.algorithmRandomness)},findStudentInArrayByName:function(e,t){var n,i=Object(ke["a"])(t);try{for(i.s();!(n=i.n()).done;){var s=n.value;if(e==s.name)return s}}catch(l){i.e(l)}finally{i.f()}},createStudentsFromRules:function(){var e=this,t=[];return this.getNames().forEach((function(n){var i=!1;e.firstRowRules.forEach((function(e){e!=n||(i=!0)}));var s=!1;e.notBackRules.forEach((function(e){e!=n||(s=!0)}));var l=new Ve(n,[],[]);l.frontRow=i,l.notBackOfTheRoom=s,t.push(l)})),this.avoidRules.forEach((function(n){var i=e.findStudentInArrayByName(n.student1,t),s=e.findStudentInArrayByName(n.student2,t);i&&s&&(i.avoid.push(s),s.avoid.push(i))})),this.nearbyRules.forEach((function(n){var i=e.findStudentInArrayByName(n.student1,t),s=e.findStudentInArrayByName(n.student2,t);i&&s&&(i.sitWith.push(s),s.sitWith.push(i))})),t},loadStudentFile:function(e){var t,n=this,i=e.target.files[0],s=new FileReader;i.name.includes(".csv")?(s.onload=function(e){var i;t=null===e||void 0===e||null===(i=e.target)||void 0===i?void 0:i.result,t&&n.loadNamesFromFile(t.toString())},s.readAsText(i,"ISO-8859-1")):alert("Diese Datei ist keine CSV-Datei")},loadNamesFromFile:function(e){var t=e.split("\n").filter((function(e){return null!==e&&""!==e}));this.studentFieldValue="";for(var n=0;n<t.length;n++)if(0==n)t[n].split(";").filter((function(e){return null!==e&&""!==e}))[0];else if(n>1){var i=void 0;i=t[n].split(";")[2].replace(/"/g,"")+" ",i+=t[n].split(";")[1].replace(/"/g,"")+"\n",i.trim().length>0&&(this.studentFieldValue+=i)}},resetNamesOnPlan:function(){for(var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=0;t<this.maxGridWidth;t++)for(var n=0;n<this.maxGridHeight;n++){var i=this.sitzplaetze[t.toString()+","+n.toString()];e&&i.manuallySelected||(i.name="",i.manuallySelected=!1)}},isMarked:function(e,t){return!!Object.keys(this.sitzplaetze).includes(e.toString()+","+t.toString())&&this.sitzplaetze[e.toString()+","+t.toString()].marked},isManuallySelected:function(e,t){return!!Object.keys(this.sitzplaetze).includes(e.toString()+","+t.toString())&&this.sitzplaetze[e.toString()+","+t.toString()].manuallySelected},instantiateDict:function(e,t){for(var n={},i=0;i<e;i++)for(var s=0;s<t;s++)n[i.toString()+","+s.toString()]=new we(i,s,!1);return n},getUsedFieldsToComputePlan:function(){for(var e=[],t=0;t<this.gridHeight;t++)for(var n=0;n<this.gridWidth;n++){var i=this.sitzplaetze[n.toString()+","+t.toString()];i.marked&&e.push(i)}return e},checkForDoubleNames:function(){var e=this.getNames(),t=[];e.forEach((function(e){while(t.includes(e))if(e.includes("_")){var n=e.split("_");isNaN(+n[n.length-1])?e+="_1":(n[n.length-1]=(Number(n[n.length-1])+1).toString(),e=n.join("_"))}else e+="_1";t.push(e)})),this.studentFieldValue=t.join("\n")},getNames:function(){return this.studentFieldValue.split("\n").filter((function(e){return null!==e&&""!==e}))},getNumberOfFields:function(){return this.getUsedFieldsToComputePlan().length},log:function(e){console.log(e)},alert:function(e){this.alert(e)}}}),Ie=(n("e4b9"),n("6b0d")),Pe=n.n(Ie);const We=Pe()(Ee,[["render",ye],["__scopeId","data-v-0b8c8c73"]]);var _e=We,Ae=Object(i["k"])({name:"App",components:{Planer:_e}});n("18e6");const Ue=Pe()(Ae,[["render",s]]);var He=Ue,Ge=n("5502"),Le=Object(Ge["a"])({state:{},mutations:{},actions:{},modules:{}});Object(i["c"])(He).use(Le).mount("#app")},d6ab:function(e,t,n){e.exports=n.p+"img/preset3.5a6fd1eb.png"},e4b9:function(e,t,n){"use strict";n("c8b1")}});
//# sourceMappingURL=app.9951f171.js.map